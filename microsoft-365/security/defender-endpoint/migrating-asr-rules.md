---
title: Migrera från tredjeparts hips till ASR-regler
description: Här beskrivs hur du ska hantera en migrering från en HIPS-lösning (Host Intrusion Prevention System) från tredje part till ASR-regler.
keywords: Minskningsregler för attackytor, asr- och asr-regler, hips, värdskyddssystem mot intrång, skyddsregler, anti-sårbarhet, antiexploit, sårbarhet, skydd mot virus, Microsoft Defender för slutpunkt, Microsoft Defender ATP
search.product: eADQiWindows 10XVcnh
ms.topic: article
ms.prod: m365-security
ms.mktglfcycl: manage
ms.sitesec: library
ms.pagetype: security
ms.localizationpriority: medium
audience: ITPro
author: lovina-saldanha
ms.author: v-lsaldanha
manager: dansimp
ms.custom: asr
ms.technology: mde
ms.openlocfilehash: ced969fdd3e8b63136f8bd3f043272e76d99bc5e
ms.sourcegitcommit: 7b8104015a76e02bc215e1cf08069979c70650ae
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 03/31/2021
ms.locfileid: "51476554"
---
# <a name="migrating-from-a-third-party-hips-to-asr-rules"></a>Migrera från tredjeparts hips till ASR-regler

I den här artikeln får du hjälp att mappa vanliga regler till Microsoft Defender för Endpoint. Följande tabell visar vanliga frågor och scenarier vid migrering från en HIPS-produkt från tredje part till ASR-regler.

|Omfattning och åtgärd|Processer|Åtgärd|Exempel på filer/mappar, registernycklar/värden, processer, tjänster|Regler för att minska attackytan|Andra rekommenderade funktioner|
|:--|:--|:--|:--|:--|:--|
|Alla processer: Blockera skapandet av specifika filer och registernycklar||Skapa filer|*.zeppel, *.odin, *.locky, *.jaff, *.lukitus, *.wnry, *.krab|ASR-regler blockerar attacktekniker och inte indikatorerna på kompromettering (IOC). Att blockera ett specifikt filtillägg är inte alltid praktiskt, eftersom det inte hindrar en enhet från att kompromettera. Det endast delvis överlappar en attack tills attacker skapar en ny typ av förlängning för nyttolasten.|Vi rekommenderar att du har Microsoft Defender AV aktiverat, tillsammans med molnskydds- och funktionsanalys. Vi rekommenderar att du använder andra skydd mot utpressningstrojaner, till exempel ASR-regeln "Använd avancerat skydd mot utpressningstrojaner". Detta ger bättre skydd mot utpressningstrojaner. Dessutom övervakas flera av dessa registernycklar av Microsoft Defender för Endpoint, till exempel ASEP-tekniker som utlöser specifika aviseringar. De registernycklar som används kräver minst lokal administratör eller behörigheter för betrodd installationsprogram för att kunna ändras. Vi rekommenderar att du använder en låst miljö, med lägsta administrativa konton eller rättigheter. Andra systemkonfigurationer kan aktiveras, bland annat "Disable SeDebug for non-required roles" (inaktivera Felsökning för icke-obligatoriska roller) som är en del av våra bredare säkerhetsrekommendationer.|
|Alla processer: Blockera skapandet av specifika filer och registernycklar||Registerändringar|*\Software \* ,HKCU\Environment\UserInitMprLogonScript,HKLM\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Accessibility\ATs \* \StartExe, HKLM\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Image File Execution Options \* \Debugger,HKEY_CURRENT_USER\Software\Microsoft\HtmlHelp Author\location,HKLM\SOFTWARE\Microsoft\Windows NT\CurrentVersion\SilentProcessExit \* \MonitorProcess|ASR-regler blockerar attacktekniker och inte indikatorerna på kompromettering (IOC). Att blockera ett specifikt filtillägg är inte alltid praktiskt, eftersom det inte hindrar en enhet från att kompromettera. Det endast delvis överlappar en attack tills attacker skapar en ny typ av förlängning för nyttolasten.|Vi rekommenderar att du har Microsoft Defender AV aktiverat, tillsammans med molnskydds- och funktionsanalys. Vi rekommenderar att du använder ytterligare skydd mot utpressningstrojaner, till exempel ASR-regeln "Använd avancerat skydd mot utpressningstrojaner". Detta ger bättre skydd mot utpressningstrojaner. Dessutom övervakas flera av dessa registernycklar av Microsoft Defender för Endpoint, till exempel ASEP-tekniker som utlöser specifika aviseringar. Dessutom måste de registernycklar som används ha minst lokal administratörsbehörighet eller behörigheten för ett betrott installationsprogram för att kunna ändras. Vi rekommenderar att du använder en låst miljö, med lägsta administrativa konton eller rättigheter. Andra systemkonfigurationer kan aktiveras, bland annat "Disable SeDebug for non-required roles" (inaktivera Felsökning för icke-obligatoriska roller) som är en del av våra bredare säkerhetsrekommendationer.|
|Icke betrodda program från USB: Blockera icke betrodda program från att köras från flyttbara enheter|*|Processkörning|*|ASR-regler har en inbyggd regel för att förhindra lanseringen av icke betrodda och osignerade program från flyttbara enheter: "Blockera icke betrodda och osignerade processer som körs från USB", GUID "b2b3f03d-6a65-4f7b-a9c7-1c7ef74a9ba4".|Utforska ytterligare kontroller för USB-enheter och andra flyttbara medium med hjälp av Microsoft Defender för Endpoint: Styra USB-enheter och andra flyttbara medium med hjälp av [Microsoft Defender för Slutpunkt.](https://docs.microsoft.com/windows/security/threat-protection/device-control/control-usb-devices-using-intune) |
|Mshta: Blockera Mshta från att starta vissa underordnade processer|mshta.exe|Processkörning|powershell.exe, cmd.exe, regsvr32.exe|ASR-reglerna innehåller inte någon särskild regel för att förhindra att underordnade processer "mshta.exe". Den här kontrollen ligger inom ramen för Sårbarhetsskydd eller Windows Defender-programkontroll.|Aktivera Programkontroll i Windows Defender för att mshta.exe att inte köras helt och hållet. Om din organisation kräver "mshta.exe" för verksamhetsspecifika appar konfigurerar du en specifik regel för sårbarhetsskydd i Windows Defender för att förhindra att mshta.exe startar underordnade processer.|
|Outlook: Blockera Outlook från att starta underordnade processer|outlook.exe|Processkörning|powershell.exe|ASR-regler har en inbyggd regel för att förhindra att Office-kommunikationsappar (Outlook, Skype och Teams) startar underordnade processer: "Blockera Office-kommunikationsprogram från att skapa underordnade processer", GUID "26190899-1602-49e8-8b27-eb1d0a1ce869".|Vi rekommenderar att du aktiverar begränsat språkläge i PowerShell för att minimera attackytan från PowerShell.|
|Office: Blockera Office-program från att starta underordnade processer och från att skapa körbart innehåll|winword.exe, powerpnt.exe, excel.exe|Processkörning|powershell.exe, cmd.exe, wscript.exe, mshta.exe, EQNEDT32.EXE, regsrv32.exe|ASR-regler har en inbyggd regel som hindrar Office-appar från att starta underordnade processer: "Blockera alla Office-program från att skapa underordnade processer", GUID "D4F940AB-401B-4EFC-AADC-AD5F3C50688A".|Uppgift saknas|
|Office: Blockera Office-program från att starta underordnade processer och från att skapa körbart innehåll|winword.exe, powerpnt.exe, excel.exe|Skapa filer|C:\Användare \* \AppData \* *\* .exe, C:\ProgramData \** \* .exe, C:\ProgramData \* *\* .com, C:\Users \* AppData\Local\Temp \** \* .com, C:\Users \* *\Downloads \** \* .exe, C:\Users \* \AppData \* *\* .scf, C:\ProgramData \** \* .scf, C:\Users\Public \* .exe, C:\Users \* \Desktop \* * \* .exe|Uppgift saknas|
|Wscript: Blockera Wscript från att läsa vissa typer av filer|wscript.exe|Läsa filen|C:\Users \* \AppData \* *\* .js*, C:\Users \* \Downloads \* *\* .js*|På grund av tillförlitlighets- och prestandaproblem har ASR-regler inte möjlighet att förhindra att en viss process läser en viss skriptfiltyp. Vi har en regel för att förhindra attackvektorer som kan komma från dessa scenarier. Regelnamnet är "Blockera JavaScript eller VBScript från att starta hämtat körbart innehåll" (GUID "D3E037E1-3EB8-44C8-A917-5792794759) "Blockera körning av potentiellt oönskade skript" (GUID " 5BEB7EFE-FD9A-4556-801D-275E5FFC04CC")|Även om det finns specifika ASR-regler som minimerar vissa attackvektorer i dessa scenarier är det viktigt att nämna att AV som standard kan kontrollera skript (PowerShell, Windows Script Host, JavaScript, VBScript med mera) i realtid, via AMSI (Antimalware Scan Interface). Mer information finns här: [Amsi (Antimalware Scan Interface).](https://docs.microsoft.com/windows/win32/amsi/antimalware-scan-interface-portal) |
|Adobe Acrobat: Blockera lansering av underordnade processer|AcroRd32.exe, Acrobat.exe|Processkörning|cmd.exe, powershell.exe, wscript.exe|ASR-regler tillåter att Adobe Reader inte startar underordnade processer. Regelnamnet är "Blockera Adobe Reader från att skapa underordnade processer", GUID "7674ba52-37eb-4a4f-a9a1-f0f9a1619a2c".|Uppgift saknas|
|CertUtil: Blockera nedladdning eller skapande av körbart innehåll|certutil.exe|Skapa filer|*.exe|ASR-reglerna stöder inte dessa scenarier eftersom de är en del av Microsoft Defender Antivirus Protection.|Microsoft Defender AV förhindrar Att CertUtil skapar eller laddar ned körbart innehåll.|
|Alla processer: Blockera processer från att stoppa kritiska systemkomponenter|*|Avtalsavslut|MsSense.exe, MsMpEng.exe, NisSrv.exe, svchost.exe*, services.exe, csrss.exe, smss.exe, wininit.exe med mera.|ASR-reglerna stöder inte dessa scenarier eftersom de skyddas med inbyggda säkerhetsskydd i Windows 10.|ELAM (early launch AntiMalware), PPL (Protection Process Light), PPL AntiMalware Light och System Guard.|
|Specifika processer: Blockera specifikt processförsök för lansering|"Namnge din process"|Processkörning|tor.exe, bittorrent.exe, cmd.exe, powershell.exe med mera.|Generellt sett är INTE ASR-reglerna utformade att fungera som programhanterare.|För att förhindra att användare startar specifika processer eller program rekommenderas du att använda Windows Defender-programkontrollen. Microsoft Defender för slutpunktsfiler och certifikatindikatorer kan användas i ett scenario med incidentsvar (ska inte ses som en programkontrollmekanism).|
|Alla processer: Blockera obehöriga ändringar i MDATP AV-konfigurationer|*|Registerändringar|HKLM\SOFTWARE\Policies\Microsoft\Windows Defender\DisableAntiSpyware, HKLM\SOFTWARE\Policies\Microsoft\Windows Defender\Policy Manager\AllowRealTimeMonitoring osv.|ASR-reglerna omfattar inte dessa typer av scenarier eftersom de är en del av det inbyggda skyddet för Microsoft Defender för Slutpunkt.|Manipuleringsskydd (opt-in, hanteras från Intune) förhindrar obehöriga ändringar av DisableAntiVirus, DisableAntiSpyware, DisableRealtimeMonitoring, DisableOnAccessProtection, DisableBehaviorMonitoring och DisableIOAVProtection-registernycklar (med mera). |



Se även

- [Vanliga frågor och svar för minskning av attackytan](attack-surface-reduction-faq.md)
- [Aktivera regler för minskning av attackytan](enable-attack-surface-reduction.md)
- [Utvärdera regler för minskning av attackytan](evaluate-attack-surface-reduction.md)
