---
title: Aktivera sårbarhetsskydd för att minska risken för attacker
keywords: sårbarhet, minskningar, attacker, sårbarhet
description: Lär dig hur du aktiverar sårbarhetsskydd i Windows 10. Sårbarhetsskydd skyddar din enhet mot skadlig programvara.
search.product: eADQiWindows 10XVcnh
ms.prod: m365-security
ms.mktglfcycl: manage
ms.sitesec: library
localization_priority: Normal
audience: ITPro
author: denisebmsft
ms.author: deniseb
ms.reviewer: ksarens
manager: dansimp
ms.technology: mde
ms.topic: how-to
ms.openlocfilehash: de91357d70eafef66b0f09b7ab92c645264ef4a0
ms.sourcegitcommit: dcb97fbfdae52960ae62b6faa707a05358193ed5
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 03/25/2021
ms.locfileid: "51197917"
---
# <a name="enable-exploit-protection"></a>Aktivera sårbarhetsskydd

[!INCLUDE [Microsoft 365 Defender rebranding](../../includes/microsoft-defender.md)]

**Gäller för:**
- [Microsoft Defender för Endpoint](https://go.microsoft.com/fwlink/p/?linkid=2154037)
- [Microsoft 365 Defender](https://go.microsoft.com/fwlink/?linkid=2118804)

>Vill du använda Defender för Slutpunkt? [Registrera dig för en kostnadsfri utvärderingsversion.](https://www.microsoft.com/microsoft-365/windows/microsoft-defender-atp?ocid=docs-wdatp-assignaccess-abovefoldlink)

[Sårbarhetsskydd](exploit-protection.md) hjälper till att skydda mot skadlig programvara som använder sårbarheter för att smitta enheter och sprida dem. Sårbarhetsskydd består av ett antal minskningar som kan tillämpas på antingen operativsystemet eller enskilda appar.

> [!IMPORTANT]
> .NET 2.0 är inte kompatibelt med vissa sårbarhetsskyddsfunktioner, särskilt exportadressfiltrering (EAF) och importadressfiltrering (IAF). Om du har aktiverat .NET 2.0 stöds inte användningen av EAF och IAF.

Många funktioner från verktygen för förbättrad minskningsupplevelse (EMET) ingår i sårbarhetsskydd.

Du kan aktivera de olika åtgärderna separat med hjälp av någon av följande metoder:   
- [Appen Windows-säkerhet](#windows-security-app)
- [Microsoft Intune](#intune)
- [Hantering av mobila enheter (MDM)](#mdm)
- [Microsoft Endpoint Configuration Manager](#microsoft-endpoint-configuration-manager)
- [Grupprincip](#group-policy)
- [PowerShell](#powershell)

Sårbarhetsskydd konfigureras som standard i Windows 10. Du kan ange att alla åtgärder ska vara på, av eller till standardvärdet. Vissa åtgärder har ytterligare alternativ.

Du kan [exportera de här inställningarna som en XML-fil](import-export-exploit-protection-emet-xml.md) och distribuera dem till andra enheter.

Du kan också ange åtgärder för [granskningsläge.](evaluate-exploit-protection.md) I granskningsläget kan du testa hur minskningar fungerar (och granska händelser) utan att påverka den normala användningen av enheten.

## <a name="windows-security-app"></a>Appen Windows-säkerhet

1. Öppna appen Windows-säkerhet genom att välja sköldikonen i aktivitetsfältet eller genom att söka efter Säkerhet på **Start-menyn.**

2. Välj panelen **& app** (eller appikonen på den vänstra menyraden) och välj sedan **Sårbarhetsskyddsinställningar**.

3. Gå till **Programinställningar** och välj den app som du vill tillämpa åtgärder på. <br/>
    - Om programmet du vill konfigurera redan finns i listan markerar du det och väljer sedan **Redigera**.
    - Om programmet inte finns med i listan väljer du Lägg till **program** för att anpassa högst upp i listan och väljer sedan hur du vill lägga till programmet. <br/>
    - Använd **Lägg till efter programnamn** om du vill att begränsningen ska tillämpas på en löpande process med det namnet. Du måste ange en fil med ett filnamnstillägg. Du kan ange en fullständig sökväg för att begränsa begränsningen till bara appen med det namnet på den platsen.
    - Använd **Välj exakt sökväg till ett** standardfönster för filväljaren i Utforskaren för att hitta och välja den fil du vill använda.

4. När du har valt programmet visas en lista över alla åtgärder som kan tillämpas. Om **du väljer** Granskning används minskningar endast i granskningsläge. Du får ett meddelande om du behöver starta om processen eller programmet, eller om du behöver starta om Windows.

5. Upprepa steg 3–4 för alla program och åtgärder som du vill konfigurera.

6. Leta reda på den minskning du vill konfigurera under **Systeminställningar** och ange sedan någon av följande inställningar. Appar som inte konfigureras individuellt i **avsnittet Programinställningar** använder de inställningar som är konfigurerade här.<br/>
    - **På som standard:** Minskningar är *aktiverade* för program som inte har den här minskning som angetts i avsnittet **programspecifika programinställningar**
    - **Av som standard:** Minskningarna är *inaktiverade* för program som inte har den här minskning som angetts i avsnittet **programspecifika programinställningar**
    - **Använd standardinställningen:** Minskningar är antingen aktiverade eller inaktiverade, beroende på standardkonfigurationen som konfigureras i Windows 10-installationen. Standardvärdet **(På eller** **Av)** anges alltid bredvid Använd standardetikett **för** varje minskning

7. Upprepa steg 6 för alla åtgärder på systemnivå som du vill konfigurera. Välj **Använd** när du är klar med konfigurationen.

Om du lägger till en app i avsnittet **Programinställningar** och konfigurerar enskilda åtgärder där så används de ovanför konfigurationen för samma åtgärder som anges i **avsnittet Systeminställningar.** I följande matris och exempel kan du illustrera hur standardinställningar fungerar:

|Aktiverad i **programinställningar** | Aktiverad i **Systeminställningar** | Beteende |
|:---|:---|:---|
|![Bockmarkering ja](/security/defender-endpoint/images/svg/check-yes) | ![Bockmarkeringsnr](/security/defender-endpoint/images/svg/check-no) | Enligt **programinställningarna** |
|![Bockmarkering ja](/security/defender-endpoint/images/svg/check-yes) | ![Bockmarkering ja](/security/defender-endpoint/images/svg/check-yes) | Enligt **programinställningarna** |
|![Bockmarkeringsnr](/security/defender-endpoint/images/svg/check-no) | ![Bockmarkering ja](/security/defender-endpoint/images/svg/check-yes) | Enligt definitionen i **Systeminställningar** |
|![Bockmarkeringsnr](/security/defender-endpoint/images/svg/check-no) | ![Bockmarkering ja](/security/defender-endpoint/images/svg/check-yes) | Standard som definierats i **alternativet Använd** standard |

### <a name="example-1-mikael-configures-data-execution-prevention-in-system-settings-section-to-be-off-by-default"></a>Exempel 1: Mikael konfigurerar avsnittet Dataexekveringsskydd i systeminställningar till av som standard

Mikael lägger till *appentest.exe* i **avsnittet Programinställningar.** I alternativen för den appen, under **Dataexekveringsskydd (DEP),** aktiverar Mikael alternativet Åsidosätt **systeminställningar** och ställer in växeln på **På.** Det finns inga andra appar listade i **avsnittet Programinställningar.**

Resultatet är att DEP endast aktiveras för *test.exe*. Alla andra appar kommer inte att använda DEP.

### <a name="example-2-josie-configures-data-execution-prevention-in-system-settings-to-be-off-by-default"></a>Exempel 2: Josie konfigurerar dataexekveringsskydd i systeminställningarna så att det är av som standard

Josie lägger till appen *test.exe* i **avsnittet Programinställningar.** I alternativen för den appen, under **Data execution Prevention (DEP),** aktiverar Josie alternativet **Åsidosätta systeminställningar** och ställer in växlingsknappen på **På.**

Josie lägger också till *miles.exe* programinställningar och konfigurerar **CfG (Control Flow Guard)** till **På.**  Josie aktiverar inte alternativet **Åsidosätt systeminställningar** för DEP eller andra åtgärder för den appen.

Resultatet är att DEP har aktiverats för *test.exe*. DEP aktiveras inte för andra appar, även *miles.exe*. CFG aktiveras för *miles.exe*.

1. Öppna appen Windows-säkerhet genom att välja sköldikonen i aktivitetsfältet eller söka efter Defender på **startmenyn.**

2. Välj panelen **& för webbläsaren** (eller appikonen på den vänstra menyraden) och välj sedan **Sårbarhetsskydd**.

3. Gå till **Programinställningar** och välj den app som du vill tillämpa åtgärder på.<br/>
    - Om programmet du vill konfigurera redan finns i listan markerar du det och väljer sedan **Redigera**.
    - Om programmet inte finns med i listan väljer du Lägg till **program** för att anpassa högst upp i listan och väljer sedan hur du vill lägga till programmet.<br/>
     - Använd **Lägg till efter programnamn** om du vill att begränsningen ska tillämpas på en löpande process med det namnet. Du måste ange en fil med ett filnamnstillägg. Du kan ange en fullständig sökväg för att begränsa begränsningen till bara appen med det namnet på den platsen.
     - Använd **Välj exakt sökväg till ett** standardfönster för filväljaren i Utforskaren för att hitta och välja den fil du vill använda.

4. När du har valt programmet visas en lista över alla åtgärder som kan tillämpas. Om **du väljer** Granskning används minskningar endast i granskningsläge. Du får ett meddelande om du behöver starta om processen eller appen, eller om du behöver starta om Windows.

5. Upprepa steg 3–4 för alla program och åtgärder som du vill konfigurera. Välj **Använd** när du är klar med konfigurationen.

## <a name="intune"></a>Intune

1. Logga in på [Azure Portal och](https://portal.azure.com) öppna Intune.

2. Gå till **Profiler för**  >  **enhetskonfiguration Skapa**  >  **profil**.

3. Namnge profilen, välj **Windows 10 och senare och** **Slutpunktsskydd**.

   ![Skapa profil för slutpunktsskydd](/microsoft-365/security/defender-endpoint/images/create-endpoint-protection-profile)<br/>

4. Välj **Konfigurera**  >  **sårbarhetsskydd i Windows Defender**  >  **Sårbarhetsskydd**.

5. Ladda upp en [XML-fil](https://docs.microsoft.com/windows/client-management/mdm/policy-csp-exploitguard) med inställningarna för sårbarhetsskydd:

   ![Aktivera nätverksskydd i Intune](/microsoft-365/security/defender-endpoint/images/enable-ep-intune)<br/>

6. Välj **OK** för att spara alla öppna blad och välj sedan **Skapa**.

7. Välj fliken **Uppgifter i** profilen, tilldela principen till Alla användare och & alla **enheter** och välj sedan **Spara**.

## <a name="mdm"></a>MDM

Använd [konfigurationstjänsten ./Vendor/MSFT/Policy/Config/ExploitGuard/ExploitProtectionSettings](https://docs.microsoft.com/windows/client-management/mdm/policy-csp-exploitguard) för att aktivera eller inaktivera sårbarhetsskyddsåtgärder eller använda granskningsläge.

## <a name="microsoft-endpoint-manager"></a>Microsoft Endpoint Manager

1. Gå till Endpoint Security   >  **Attack Surface-minskning i** Microsoft Endpoint Manager. 

2. Välj **Skapa**  >  **policyplattform** och i **Profile väljer** du **Sårbarhetsskydd**. Välj sedan **Skapa**.

3. Ange ett namn och en beskrivning och välj sedan **Nästa**.

4. Välj **Välj XML-fil** och bläddra till platsen för XML-skyddsfilen. Markera filen och välj **nästa**.

5. Konfigurera **omfattningstaggar** **och tilldelningar** om det behövs. 

6. Granska **konfigurationen under Granska +** skapa och välj sedan **Skapa**.


## <a name="microsoft-endpoint-configuration-manager"></a>Microsoft Endpoint Configuration Manager

1. I Microsoft Endpoint Configuration Manager går du till **Tillgångar och Slutpunktsskydd för**  >  **efterlevnad** Windows Defender  >  **Exploit Guard**.

2. Välj **Home**  >  **Create Exploit Guard-policy**.

3. Ange ett namn och en beskrivning, **välj Sårbarhetsskydd** och välj sedan **Nästa**.

4. Bläddra till platsen för XML-skyddsfilen för sårbarhet och välj **Nästa**.

5. Granska inställningarna och välj Nästa **för** att skapa principen.

6. När principen har skapats väljer du **Stäng**.

## <a name="group-policy"></a>Grupprincip

1. Öppna grupprinciphanteringskonsolen på [](https://technet.microsoft.com/library/cc731212.aspx)din enhet för grupprinciphantering, högerklicka på det grupprincipobjekt du vill konfigurera och klicka på **Redigera.**

2. I **redigeraren för hantering av grupprinciper** går **du till Datorkonfiguration** och **väljer Administrativa mallar**.

3. Expandera trädet till **Windows-komponenter**  >  **Windows Defender Sårbarhetsskydd**  >  **Använd** en vanlig  >  **uppsättning sårbarhetsskyddsinställningar**.

4. Välj **Aktiverad** och ange [XML-filens plats](https://docs.microsoft.com/windows/client-management/mdm/policy-csp-exploitguard)och välj sedan **OK.**

## <a name="powershell"></a>PowerShell

Du kan använda PowerShell-verbet `Get` `Set` eller med cmdleten `ProcessMitigation` . Med hjälp visas aktuell konfigurationsstatus för eventuella åtgärder som har aktiverats på enheten – lägg till cmdlet och app exe för att se åtgärder för just det `Get` `-Name` programmet:

```PowerShell
Get-ProcessMitigation -Name processName.exe
```

> [!IMPORTANT]
> Åtgärder på systemnivå som inte har konfigurerats visar statusen för `NOTSET` .
> - Anger standardinställningen för den minskning som har tillämpats `NOTSET` för systemnivåinställningar.
> - För inställningar på programnivå `NOTSET` anger du systeminställningen för minskningar.
> Standardinställningen för åtgärder på systemnivån finns i Windows-säkerhet.

Används `Set` för att konfigurera åtgärder i följande format:

```PowerShell
Set-ProcessMitigation -<scope> <app executable> -<action> <mitigation or options>,<mitigation or options>,<mitigation or options>
```

Var:

* \<Scope>:
  * `-Name` för att indikera att minskningar bör tillämpas på en viss app. Ange appens körbara efter den här flaggan.
    * `-System` för att indikera att minskningar bör tillämpas på systemnivån
* \<Action>:
  * `-Enable` för att aktivera minskningar
  * `-Disable` för att inaktivera minskningar
* \<Mitigation>:
  * Minsknings-cmdleten tillsammans med eventuella underalternativ (omgivna av blanksteg). Alla åtgärder är åtskilda med kommatecken.

Om du till exempel vill aktivera åtgärder för dataexekveringsskydd (DEP) med ATL-thunk-egulering och för en körbar fil som kallas *testing.exe* i mappen *C:\Apps\LOB\tests* och för att förhindra att körbara processer skapas använder du följande kommando:

```PowerShell
Set-ProcessMitigation -Name c:\apps\lob\tests\testing.exe -Enable DEP, EmulateAtlThunks, DisallowChildProcessCreation
```

> [!IMPORTANT]
> Avgränsa varje alternativ för minskning med kommatecken.

Om du vill använda DEP på systemnivå använder du följande kommando:

```PowerShell
Set-Processmitigation -System -Enable DEP
```

Om du vill inaktivera minskningar kan du `-Enable` ersätta med `-Disable` . För åtgärder på programnivå innebär det emellertid att minskningarna bara inaktiveras för det programmet.

Om du behöver återställa begränsningen till systemstandarden måste du inkludera `-Remove` cmdleten och i följande exempel:

```PowerShell
Set-Processmitigation -Name test.exe -Remove -Disable DEP
```

I den här tabellen visas **de enskilda minskningar** **(och granskningar,** när de är tillgängliga) som ska användas med `-Enable` parametrarna eller `-Disable` cmdleten.

| Minskningstyp | Gäller för | Nyckelord för minskningsparameter | Cmdlet-parameter för granskningsläge |
| :-------------- | :--------- | :---------------------------------- | :-------------------------- |
| Kontrollflödesskydd (CFG) | System- och appnivå |   `CFG`,   `StrictCFG`,   `SuppressExports`  | Granskning inte tillgänglig |
| Dataexekveringsskydd (DEP) | System- och appnivå |   `DEP`,   `EmulateAtlThunks`  | Granskning inte tillgänglig |
| Tvinga slumpmässiga bilder (obligatorisk ASLR) | System- och appnivå |   `ForceRelocateImages`  | Granskning inte tillgänglig |
| Slumpmässiga minnestilldelningar (Nedifrån och upp ASLR) | System- och appnivå |   `BottomUp`,   `HighEntropy`  | Granskning inte tillgänglig
| Verifiera undantagskedjor (SEHOP) | System- och appnivå |   `SEHOP`,   `SEHOPTelemetry`  | Granskning inte tillgänglig |
| Verifiera heapintegritet | System- och appnivå |   `TerminateOnError`  | Granskning inte tillgänglig |
| Godtyckligt kodskydd (ACG) | Endast på programnivå |   `DynamicCode`  |   `AuditDynamicCode` |
| Blockera bilder med låg integritet | Endast på programnivå |   `BlockLowLabel`  |   `AuditImageLoad` |
| Blockera fjärrbilder | Endast på programnivå |   `BlockRemoteImages`  | Granskning inte tillgänglig |
| Blockera icke betrodda teckensnitt | Endast på programnivå |   `DisableNonSystemFonts`  |   `AuditFont`,   `FontAuditOnly` |
| Kodintegritetsskydd | Endast på programnivå |   `BlockNonMicrosoftSigned`,   `AllowStoreSigned`  |   AuditMicrosoftSigned, AuditStoreSigned |
| Inaktivera förlängningspunkter | Endast på programnivå |   `ExtensionPoint`  | Granskning inte tillgänglig |
| Inaktivera Win32k-systemsamtal | Endast på programnivå |   `DisableWin32kSystemCalls`  |   `AuditSystemCall` |
| Tillåt inte underordnade processer | Endast på programnivå |   `DisallowChildProcessCreation`  |   `AuditChildProcess` |
| Exportera adressfiltrering (EAF) | Endast på programnivå |   `EnableExportAddressFilterPlus`, `EnableExportAddressFilter` <a href="#r1" id="t1"> \[ 1 \] </a>   | Granskning inte tillgänglig<a href="#r2" id="t2"> \[ 2 \] </a> |
| Importera adressfiltrering (IAF) | Endast på programnivå |   `EnableImportAddressFilter`  | Granskning inte tillgänglig<a href="#r2" id="t2"> \[ 2 \] </a> |
| Simulera körning (SimExec) | Endast på programnivå |   `EnableRopSimExec`  | Granskning inte tillgänglig<a href="#r2" id="t2"> \[ 2 \] </a> |
| Verifiera API-anrop (Anroparkontroll) | Endast på programnivå |   `EnableRopCallerCheck`  | Granskning inte tillgänglig<a href="#r2" id="t2"> \[ 2 \] </a> |
| Verifiera användning av handtag | Endast på programnivå |   `StrictHandle`  | Granskning inte tillgänglig |
| Verifiera bildsambandsintegritet | Endast på programnivå |   `EnforceModuleDepencySigning`  | Granskning inte tillgänglig |
| Validera stack-integritet (StackPivot) | Endast på programnivå |   `EnableRopStackPivot`  | Granskning inte tillgänglig<a href="#r2" id="t2"> \[ 2 \] </a> |

<a href="#t1" id="r1"> \[ 1: \] </a>Använd följande format för att aktivera EAF-moduler för DLL-filer för en process:

```PowerShell
Set-ProcessMitigation -Name processName.exe -Enable EnableExportAddressFilterPlus -EAFModules dllName1.dll,dllName2.dll
```
<a href="#t2" id="r2"> \[ 2: \] </a>Granskning av den här begränsningen är inte tillgänglig via PowerShell-cmdlets.

## <a name="customize-the-notification"></a>Anpassa meddelandet

I artikeln [om Windows-säkerhet](https://docs.microsoft.com/windows/security/threat-protection/windows-defender-security-center/windows-defender-security-center) finns mer information om hur du anpassar meddelandet när en regel utlöses och blockerar en app eller fil.

## <a name="see-also"></a>Se även

- [Utvärdera sårbarhetsskydd](evaluate-exploit-protection.md)
- [Konfigurera och granska minskningar av sårbarhetsskydd](customize-exploit-protection.md)
- [Importera, exportera och distribuera sårbarhetsskyddskonfigurationer](import-export-exploit-protection-emet-xml.md)
